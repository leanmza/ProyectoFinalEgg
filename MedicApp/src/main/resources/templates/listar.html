<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:replace= "/fragments/head :: head" </head>  <!--NO MODIFICAR-->

    <body>
        <!--HEADER-->
        <div class="container-fluid cabecera">
            <header th:replace="/fragments/header :: header"</header>  <!--NO MODIFICAR-->
        </div>

        <!--MAIN-->

        <main>
            <div class="container-fluid contenedorDiv">
                <div class="row titulo">
                    <h3>LISTA DE PROFESIONALES</h3>
                </div>
                <form action="/buscarespec" method="POST" class="form-floating">
                    <div class="row rowDatosPersonales">
                        <div class="barraBusqueda col-xs-12">
                            <div class="col-xs-12 col-md-2 form-floating">
                                <select
                                    name="especialidad"
                                    id="especialidad"
                                    class="especialidad form-select"
                                    >
                                    <option value="" selected disabled>Eligir especialidad</option>
                                    <option value="Cardiologia">Cardiología</option>
                                    <option value="Clinica">Clínica</option>
                                    <option value="Ginecologia">Ginecología</option>
                                    <option value="Pediatria">Pediatría</option>
                                </select>
                                <label for="especialidad" class="datosInput">Especialidad</label>
                            </div>

                            <button type="submit" class="btn btn-primary btnEnviar btnBuscar botonesLista">
                                Buscar por especialidad
                            </button>
                        </div>
                    </div>
                </form>

                <table class="table table-light">
                    <thead>
                        <tr>
                            <th scope="col">Nombre</th>
                            <th scope="col">Apellido</th>
                            <th scope="col">Especialidad</th>
                            <th scope="col">Valor de Consulta</th>
                            <th scope="col">Calificación</th> 
                            <th scope="col" sec:authorize ="hasRole ('ADMINISTRADOR')" >Acciones</th>
                        </tr>
                    </thead>

                    <tbody th:each="profesional : ${profesionales}">
                        <tr>
                            <td th:text="${profesional.nombre}"></td>
                            <td th:text="${profesional.apellido}"></td>
                            <td th:text="${profesional.especialidad}"></td>
                            <td th:text="${profesional.honorario}"></td>
                            <td th:text="${'En construción'}"></td>

                            <!--<td th:text="${profesional.calificación}"></td>--> 
                            <!--resolver como pasar la calificación--> 

                            <td>
                                <a sec:authorize ="hasRole ('ADMINISTRADOR')" th:href= "@{/pro/perfil/__${profesional.id}__}"> Modificar </a>
                            </td>
                            
<!--                            <td>
                                <a sec:authorize ="hasRole ('ADMIN')" th:href= "@{/noticia/eliminar/__${noticia.id}__}"> Eliminar </a>
                            </td> -->
                        </tr>
                    </tbody>
                </table>
                         
                <a class="btn btn-primary botonesLista" href="/inicio" role="button" th:if="${session.pacienteSession != null} OR ${session.profesionalSession != null} ">Volver</a>
                 <a class="btn btn-primary botonesLista" href="/" role="button" th:if="${session.pacienteSession == null} AND ${session.profesionalSession == null}">Volver</a>
            </div>
     </main>
 
        <!--FOOTER-->
        <div class="container-fluid pie">
            <footer  th:replace="/fragments/footer :: footer"</footer><!--NO MODIFICAR-->
        </div>


        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
            crossorigin="anonymous"
        ></script> <!--NO MODIFICAR-->

    </body>
</html>
