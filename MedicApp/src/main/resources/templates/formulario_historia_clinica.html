<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:replace= "/fragments/head :: head" </head>  <!--NO MODIFICAR-->

    <body>
        <!--HEADER-->
        <div class="container-fluid cabecera">
            <header th:replace="/fragments/header :: header"</header>  <!--NO MODIFICAR-->
        </div>

        <!--MAIN-->

        <main>
            <div
                id="divFormHistoriaClinica"
                class="container-fluid divFormHistoriaClinica contenedorMain"
                >
                <div class="row titulo">
                    <h3>NUEVA DE ENTRADA DE HISTORIA CLÍNICA</h3>
                </div>

                <form
                    class="form-floating row formulario formularioCrear"
                    id="formulario"
                    th:action="@{/historiaClinica/registroHistoriaClinica}"
                    method="POST"
                    >

                    <div class="row formTurno">

                        <!-- DATOS PERSONALES -->
                        <div class="row turno">

                            <!-- COLUMNA IZQUIERDA -->
                            <div class="col-5 colIzquierdaHistoria">
                                <!-- DATOS PERSONALES -->
                                <div class="row rowDatosPersonales">

                                    <div th:if="${error != null}" class="card text-white bg-danger mb-3 mt-3 mensajeError rounded-3 p-2 col-md-6 col-sm-10 mx-auto">
                                        <div class="card-body">
                                            <h5 class="card-title fs-5 fw-bold mb-3" style="font-family: Montserrat, sans-serif;">⚠️¡Ingreso de historia clinica FALLIDO!⚠️</h5>
                                            <p class="card-text fs-6 mb-0 custom-error-message" th:text="${error}"></p>
                                        </div>
                                    </div>

                                    <!-- INPUT OCULTO DEL ID -->
                                    <input hidden type="text" id="id" name="idPaciente" />
                                    <!-- INPUT FECHA-->
                                    <div class="col-xs-12 form-floating">
                                        <input
                                            type="date"
                                            class="form-control"
                                            id="fecha"
                                            name="fecha"
                                            placeholder=""
                                            th:value="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}"
                                            />
                                        <label for="fecha"><i class="fa-solid fa-calendar-days iconForm"></i>Fecha de la consulta</label>
                                    </div>

                                    <!-- INPUT DNI PACIENTE-->
                                    <div class="col-xs-12  form-floating">
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="dni"
                                            name="dni"
                                            placeholder=""
                                            />
                                        <label for="dni"><i class="fa-solid fa-id-card iconForm"></i>DNI del paciente</label>
                                    </div>

                                    <!-- INPUT PROFESIONAL-->
                                    <div class="col-xs-12 form-floating">
                                        <input
                                            type="text"
                                            class="form-control"
                                            id="profesional"
                                            name="nombreProfesional"
                                            th:value="${profesional.apellido + ',  ' + profesional.nombre}"
                                            placeholder=""
                                            disabled />
                                        <label for="profesional"><i class="fa-solid fa-staff-snake iconForm"></i>Profesional</label>
                                    </div>
                                </div>
                                <!-- INPUT ESPECIALIDAD-->
                                <div class="col-xs-12 form-floating">
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="profesional"
                                        name="especialidadProfesional"
                                        th:value="${profesional.especialidad}"
                                        placeholder=""
                                        disabled />
                                    <label for="Especialidad" class="labelArea"><i class="fa-solid fa-suitcase-medical iconForm"></i>Especialidad</label>
                                </div>
                            </div>


                            <!-- COLUMNA CENTRO -->
                            <div class="col-7">
                                <!-- INPUT DIAGNOSTICO -->
                                <div class="row form-floating colDerechaHistoria   ">
                                    <textarea
                                        type="text"
                                        class="form-control diagnostico"
                                        id="diagnostico"
                                        placeholder=""
                                        name="diagnostico"
                                        ></textarea>
                                    <label for="diagnostico"><i class="fa-solid fa-stethoscope iconForm"></i>Diagnóstico</label>
                                </div>

                                <!-- INPUT TRATAMIENTO -->
                                <div class="row form-floating colDerechaHistoria">
                                    <textarea
                                        type="text"
                                        class="form-control tratamiento"
                                        id="tratamiento"
                                        placeholder=""
                                        name="tratamiento"
                                        ></textarea>
                                    <label for="tratamiento"><i class="fa-solid fa-prescription-bottle-medical iconForm"></i>Tratamiento</label>
                                </div>
                            </div>

                            <div class="col-xs-12 DivBtnEnviar">
                                <button
                                    type="submit"
                                    name="submit"
                                    value="registrar"
                                    class="btn btn-primary btnEnviar botonesFormulario"
                                    >
                                    Guardar
                                </button>
                            </div>
                            </form>

                        </div>






                        </main>
                        <!--FOOTER-->
                        <div class="container-fluid pie">
                            <footer  th:replace="/fragments/footer :: footer"</footer><!--NO MODIFICAR-->
                        </div>


                        <script
                            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
                            integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
                            crossorigin="anonymous"
                        ></script> <!--NO MODIFICAR-->

                        </body>
                        </html>
